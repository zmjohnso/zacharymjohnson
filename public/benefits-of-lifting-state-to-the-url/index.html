<!DOCTYPE html>
<html lang="en">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Benefits of Lifting State to the URL - Zachary M. Johnson</title><meta name="Description" content="Zachary M. Johnson&#39;s Personal Blog"><meta property="og:url" content="http://localhost:1313/benefits-of-lifting-state-to-the-url/">
  <meta property="og:site_name" content="Zachary M. Johnson">
  <meta property="og:title" content="Benefits of Lifting State to the URL">
  <meta property="og:description" content="I recently found myself needing to lift some parts of my application state into the URL. I usually default to use some state management solution in my web projects, and I am a huge fan of Zustand. However, there comes a time when using this type of state management alone may not provide all the desired functionality.
Why Lift State Normally, when using something like Redux, the global store lives in memory within the JavaScript runtime of your application. This generally would work great, but what if a user wanted to share part of their application state with another user running the application on another computer? Or what if the same user simply wanted to share some application state between different tabs in the same browser? If all your state is stored in runtime memory, this isn’t possible.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-27T18:45:02-04:00">
    <meta property="article:modified_time" content="2024-06-27T18:45:02-04:00">
    <meta property="article:tag" content="State Management">
    <meta property="og:image" content="http://localhost:1313/logo.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:1313/logo.png">
  <meta name="twitter:title" content="Benefits of Lifting State to the URL">
  <meta name="twitter:description" content="I recently found myself needing to lift some parts of my application state into the URL. I usually default to use some state management solution in my web projects, and I am a huge fan of Zustand. However, there comes a time when using this type of state management alone may not provide all the desired functionality.
Why Lift State Normally, when using something like Redux, the global store lives in memory within the JavaScript runtime of your application. This generally would work great, but what if a user wanted to share part of their application state with another user running the application on another computer? Or what if the same user simply wanted to share some application state between different tabs in the same browser? If all your state is stored in runtime memory, this isn’t possible.">
<meta name="application-name" content="Zachary M. Johnson">
<meta name="apple-mobile-web-app-title" content="Zachary M. Johnson">
<meta name="referrer" content="no-referrer" /><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="http://localhost:1313/benefits-of-lifting-state-to-the-url/" /><link rel="prev" href="http://localhost:1313/streamlining-data-migrations-in-contentful/" /><link rel="next" href="http://localhost:1313/graphql-a-breathof-fresh-air/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="/lib/fontawesome-free/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/css/all.min.css"></noscript><link rel="preload" href="/lib/animate/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Benefits of Lifting State to the URL",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/localhost:1313\/benefits-of-lifting-state-to-the-url\/"
        },"image": ["http:\/\/localhost:1313\/images\/Apple-Devices-Preview.png"],"genre": "posts","keywords": "State Management","wordcount":  537 ,
        "url": "http:\/\/localhost:1313\/benefits-of-lifting-state-to-the-url\/","datePublished": "2024-06-27T18:45:02-04:00","dateModified": "2024-06-27T18:45:02-04:00","publisher": {
            "@type": "Organization",
            "name": "Zachary M. Johnson","logo": "http:\/\/localhost:1313\/images\/avatar.png"},"author": {
                "@type": "Person",
                "name": "Zachary M. Johnson"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script>(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Zachary M. Johnson">Zachary M. Johnson</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/tags/"> Tags </a><a class="menu-item" href="/about/"> About </a><a class="menu-item" href="https://github.com/zmjohnso/zacharymjohnson" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw' aria-hidden='true'></i>  </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Zachary M. Johnson">Zachary M. Johnson</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a class="menu-item" href="/about/" title="">About</a><a class="menu-item" href="https://github.com/zmjohnso/zacharymjohnson" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw' aria-hidden='true'></i></a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Benefits of Lifting State to the URL</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>Zachary M. Johnson</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2024-06-27">2024-06-27</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;537 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;3 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#why-lift-state">Why Lift State</a></li>
    <li><a href="#time-to-put-everything-in-the-url">Time to Put Everything in the URL?</a></li>
    <li><a href="#enjoying-the-benefits-multilocation-state">Enjoying the Benefits Multilocation State</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>I recently found myself needing to lift some parts of my application state into the URL.
I usually default to use some state management solution in my web projects, and I am
a huge fan of <a href="https://spin.atomicobject.com/zustand-alternative-redux/" target="_blank" rel="noopener noreffer ">Zustand</a>.
However, there comes a time when using this type of state management alone may
not provide all the desired functionality.</p>
<h2 id="why-lift-state">Why Lift State</h2>
<p>Normally, when using something like Redux, the global store lives in memory within
the JavaScript runtime of your application. This generally would work great, but what if
a user wanted to share part of their application state with another user running the
application on another computer? Or what if the same user simply wanted to share some
application state between different tabs in the same browser? If all your state
is stored in runtime memory, this isn&rsquo;t possible.</p>
<p>The solution: put the part of the state that you want to share between instances into
the URL. For example, on the <a href="https://photovoicejapan.com" target="_blank" rel="noopener noreffer ">PhotoVoice Japan</a> website, I wanted
users to easily be able to share voices. Initially, a user would have to go to the &ldquo;search&rdquo;
tab, explain what search params to use and then also share the title of the voice that
they wanted the other user to view. But after lifting the voice ID (in my case I am using Contentful&rsquo;s
internal Entry ID, but this can be any unique identifier) into the URL, they need
only share a single URL to link directly to a specific voice. For example: <a href="https://photovoicejapan.com/display/23z0n4kUPKvV0KYDbwTtAz" target="_blank" rel="noopener noreffer ">https://photovoicejapan.com/display/23z0n4kUPKvV0KYDbwTtAz</a>.</p>
<p>This change not only added a new feature in being able to share specific voices, but also
simplified the existing Zustand store, by removing the concept of a &ldquo;currentVoice&rdquo; and
simply having that &ldquo;currentVoice&rdquo; entry ID live in the URL. Furthermore, I find having
this part of the state in the URL can aid in debugging, since &ldquo;reproducing&rdquo; state
is much easier by simply sharing a URL, instead of needing to click through multiple UI
windows/modals.</p>
<h2 id="time-to-put-everything-in-the-url">Time to Put Everything in the URL?</h2>
<p>Given the clear benefits of lifting state to the URL, why not just move everything there?
For some things, it probably just isn&rsquo;t important enough to move to the URL or
serves no real purpose. For example, the user&rsquo;s light/dark mode preference. This can just live
in memory and default to the user&rsquo;s browser preference. If it&rsquo;s very important that this
preference is saved, it can be linked somehow to a concept of a user and their &ldquo;profile.&rdquo;
Additionally, some pieces of state do not make sense to share. For instance, maybe the user
is in the middle of entering data or making selections in a multi-step modal. It is likely
that such a workflow would be all or nothing, and it is therefore unnecessary to store the
intermediate parts of state in the URL.</p>
<h2 id="enjoying-the-benefits-multilocation-state">Enjoying the Benefits Multilocation State</h2>
<p>Lifting state to the URL is helpful when needing to easily share state between users or
instances and to aid in state reproduction for debugging and troubleshooting purposes.
Utilizing both runtime memory and the URL to manage state is important as applications
become more complex. I hope you find that lifting state to the URL can also help improve
the functionality of your applications!</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2024-06-27</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/benefits-of-lifting-state-to-the-url/index.md" target="_blank">Read Markdown</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on X" data-sharer="x" data-url="http://localhost:1313/benefits-of-lifting-state-to-the-url/" data-title="Benefits of Lifting State to the URL" data-hashtags="State Management"><i class="fab fa-x-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Threads" data-sharer="threads" data-url="http://localhost:1313/benefits-of-lifting-state-to-the-url/" data-title="Benefits of Lifting State to the URL"><i class="fab fa-threads fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="http://localhost:1313/benefits-of-lifting-state-to-the-url/" data-hashtag="State Management"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Linkedin" data-sharer="linkedin" data-url="http://localhost:1313/benefits-of-lifting-state-to-the-url/"><i class="fab fa-linkedin fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="http://localhost:1313/benefits-of-lifting-state-to-the-url/" data-title="Benefits of Lifting State to the URL"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/state-management/">State Management</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/streamlining-data-migrations-in-contentful/" class="prev" rel="prev" title="Streamlining Data Migrations in Contentful"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>Streamlining Data Migrations in Contentful</a>
            <a href="/graphql-a-breathof-fresh-air/" class="next" rel="next" title="GraphQL: a Breath of Fresh Air">GraphQL: a Breath of Fresh Air<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2025</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">Zachary M. Johnson</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a>
        </div>

        <div id="fixed-buttons-hidden"><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><script src="/lib/autocomplete/autocomplete.min.js"></script><script src="/lib/algoliasearch/lite/browser.umd.js"></script><script src="/lib/lazysizes/lazysizes.min.js"></script><script src="/lib/clipboard/clipboard.min.js"></script><script src="/lib/sharer/sharer.min.js"></script><script>window.config={"comment":{},"search":{"algoliaAppID":"","algoliaIndex":"index","algoliaSearchKey":"","highlightTag":"em","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"algolia"}};</script><script src="/js/theme.min.js"></script></body>
</html>
